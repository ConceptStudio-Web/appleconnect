<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#1e96c8" />
  <title>Multi Product Intake | Apple Connect</title>
  <link rel="icon" type="image/png" href="assets/Loading Page Icon 2.png" />
  <link rel="stylesheet" href="assets/css/loader.css?v=2" />
  <script src="assets/js/loader.js?v=2"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/styles.css?v=22" />
  <link rel="stylesheet" href="assets/css/footer.css?v=22" />
  <style>
    .rows {
      display: grid;
      gap: 12px;
    }

    .row {
      background: #fff;
      border: 1px solid #e5e9ef;
      border-radius: 14px;
      box-shadow: var(--shadow);
      padding: 12px;
      display: grid;
      gap: 10px;
    }

    .row-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .row-grid {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 10px;
    }

    .row-grid .field {
      display: grid;
      gap: 6px;
    }

    .row-grid .field label {
      font-size: 12px;
      color: var(--muted);
    }

    .row-images {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
    }

    .img-prev {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 10px;
      background: #f5f7fa;
      border: 1px solid #eef2f6;
    }

    @media (max-width: 999px) {
      .row-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }

      .row-images {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 599px) {
      .row-grid {
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }

      .row-images {
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }
    }

    .pill-row-index {
      background: var(--accent-100);
      color: var(--accent);
      border: 1px solid #d7ecf7;
      padding: 3px 8px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 12px;
    }
  </style>
</head>

<body data-page="intake-multi">
  <a class="skip-link" href="#content">Skip to content</a>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img class="logo" src="assets/Apple Connect Logo Header.jpg" alt="Apple Connect logo" />
      </div>
      <nav class="nav" aria-label="Primary">
        <button id="navToggle" class="icon-btn" aria-expanded="false" aria-controls="navMenu"
          aria-label="Toggle navigation">☰</button>
        <ul id="navMenu" class="nav-menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="iphones.html">iPhones</a></li>
          <li><a href="ipads.html">iPads</a></li>
          <li><a href="accessories.html">Accessories</a></li>
          <li><a href="macbooks.html">MacBooks</a></li>
          <li><a href="gaming.html">Gaming</a></li>
          <li><a href="about.html">About Us</a></li>
        </ul>
      </nav>
      <div class="header-actions">
        <button class="icon-btn" aria-label="Cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true">
            <path d="M6 6h15l-1.5 9h-12z" stroke="currentColor" stroke-width="2" fill="none" stroke-linejoin="round" />
            <circle cx="9" cy="20" r="1.5" fill="currentColor" />
            <circle cx="18" cy="20" r="1.5" fill="currentColor" />
            <path d="M6 6L5 3H2" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main id="content" class="container section">
    <div class="section-head">
      <h2>Multi Product Intake</h2>
    </div>

    <div class="auth-card">
      <div class="booking-head">
        <h3 style="margin:0;">Products</h3>
        <div style="display:flex; gap:8px;">
          <button type="button" class="btn btn-outline" id="addRow">Add Row</button>
          <button type="button" class="btn btn-plain" id="clearRows">Clear All</button>
        </div>
      </div>
      <div id="rows" class="rows"></div>
      <div class="booking-foot" style="gap:8px; margin-top:10px;">
        <button type="button" class="btn btn-outline" id="generate">Generate JSON</button>
        <button type="button" class="btn btn-primary" id="copy">Copy JSON</button>
      </div>
    </div>

    <section class="section">
      <div class="section-head">
        <h3>Output</h3>
      </div>
      <textarea id="output"
        style="width:100%; min-height:260px; padding:12px; border-radius:12px; border:1px solid #e5e9ef; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;"></textarea>
    </section>
  </main>

  <footer class="site-footer">
    <div class="footer-top">
      <div class="container footer-grid">
        <div class="footer-col">
          <div class="footer-brand">
            <img class="logo" src="assets/Apple Connect Logo Header.jpg" alt="Apple Connect" />
            <div class="brand-text">Apple <span class="brand-accent">Connect</span></div>
          </div>
          <div class="footer-contact" style="margin-top:10px;">
            <div class="line">Bulawayo, Zimbabwe</div>
            <div class="line">Call: +263 71 733 1700</div>
            <div class="line">Email: admin@appleconnect.co.zw</div>
          </div>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="iphones.html">iPhones</a></li>
            <li><a href="ipads.html">iPads</a></li>
            <li><a href="accessories.html">Accessories</a></li>
            <li><a href="macbooks.html">MacBooks</a></li>
            <li><a href="gaming.html">Gaming</a></li>
            <li><a href="about.html">About Us</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Contact</h4>
          <div class="footer-contact">
            <div class="line">Email: <a href="mailto:admin@appleconnect.co.zw">admin@appleconnect.co.zw</a></div>
            <div class="line">Mobile: <a href="tel:+263717331700">+263 71 733 1700</a></div>
            <div class="line">WhatsApp: <a href="https://wa.me/27640823961" target="_blank" rel="noopener">+27 64 082
                3961</a></div>
            <div class="line">Instagram: <a href="https://www.instagram.com/apple_connect_zw" target="_blank"
                rel="noopener">@apple_connect_zw</a></div>
            <div class="line">Facebook: <a href="https://www.facebook.com/appleconnecttt/" target="_blank"
                rel="noopener">Apple Connect</a></div>
            <div class="line">TikTok: <a href="https://www.tiktok.com/@apple_connect_zw" target="_blank"
                rel="noopener">@apple_connect_zw</a></div>
          </div>
        </div>
        <div class="footer-col footer-newsletter">
          <h4>Stay Updated</h4>
          <form onsubmit="event.preventDefault(); try{ alert('Thanks! You\'re subscribed.'); }catch(_){}">
            <input type="email" placeholder="Your email address" aria-label="Email" required />
            <button type="submit">Subscribe</button>
          </form>
          <div style="font-size:12px; color:#9aa6b2; margin-top:6px;">Get promotions and new stock updates.</div>
        </div>
      </div>
    </div>
    <div class="container footer-bottom">
      <div>© <span id="year"></span> Apple Connect. All rights reserved.</div>
      <div class="links">
        <a href="#" aria-label="Privacy Policy">Privacy</a>
        <a href="#" aria-label="Terms of Service">Terms</a>
      </div>
    </div>
  </footer>

  <script src="assets/js/app.js?v=28" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const $ = (s, scope = document) => scope.querySelector(s);
      const $$ = (s, scope = document) => Array.from(scope.querySelectorAll(s));

      const rows = $('#rows');
      const addRowBtn = $('#addRow');
      const clearRowsBtn = $('#clearRows');

      function slug(s) { return String(s || '').toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, ''); }
      function toBoolStr(v) { if (v === 'Yes') return 'Yes'; if (v === 'No') return 'No'; return ''; }

      function makeRow(index) {
        const wrap = document.createElement('div');
        wrap.className = 'row';
        wrap.innerHTML = `
            <div class="row-head">
              <div class="pill-row-index">Row #<span class="idx">${index + 1}</span></div>
              <div style="display:flex; gap:8px;">
                <button type="button" class="btn btn-plain btn-small move-up">Move Up</button>
                <button type="button" class="btn btn-plain btn-small move-down">Move Down</button>
                <button type="button" class="btn btn-outline btn-small remove">Remove</button>
              </div>
            </div>
            <div class="row-grid">
              <div class="field">
                <label>Category</label>
                <select class="category">
                  <option value="iphone">iPhone</option>
                  <option value="ipad">iPad</option>
                  <option value="macbook">MacBook</option>
                  <option value="accessory">Accessory</option>
                </select>
              </div>
              <div class="field">
                <label>Model</label>
                <input class="model" type="text" required />
              </div>
              <div class="field">
                <label>Storage</label>
                <input class="storage" type="text" placeholder="256GB" />
              </div>
              <div class="field">
                <label>Condition</label>
                <input class="condition" type="text" placeholder="Brand New / Used (Good)" />
              </div>
              <div class="field">
                <label>Price</label>
                <input class="price" type="number" step="0.01" placeholder="899" />
              </div>
              <div class="field">
                <label>Currency</label>
                <input class="currency" type="text" value="USD" />
              </div>
              <div class="field">
                <label>Badge</label>
                <input class="badge" type="text" placeholder="New / Deal / Pro" />
              </div>
              <div class="field">
                <label>Tags (comma-separated)</label>
                <input class="tags" type="text" placeholder="new_stock, hot_deal" />
              </div>
              <div class="field">
                <label>Face ID</label>
                <select class="faceId">
                  <option value="">—</option>
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div class="field">
                <label>True Tone</label>
                <select class="truetone">
                  <option value="">—</option>
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                </select>
              </div>
              <div class="field">
                <label>Battery Health</label>
                <input class="batteryHealth" type="text" placeholder="100%" />
              </div>
              <div class="field">
                <label>Warranty</label>
                <input class="warranty" type="text" placeholder="1 Year" />
              </div>
              <div class="field">
                <label>Branch</label>
                <input class="branch" type="text" placeholder="Bulawayo Centre / Haddon & Sly / Both" />
              </div>
            </div>
            <div class="row-images">
              <div class="field">
                <label>Product Image (file)</label>
                <input class="productFile" type="file" accept="image/*" />
              </div>
              <div class="field">
                <label>Product Image Path</label>
                <input class="productPath" type="text" placeholder="assets/Your Image.jpg" />
              </div>
              <div class="field">
                <label>Preview Image (file)</label>
                <input class="previewFile" type="file" accept="image/*" />
              </div>
              <div class="field">
                <label>Preview Image Path</label>
                <input class="previewPath" type="text" placeholder="assets/Preview Images/Your Preview.jpg" />
              </div>
            </div>
            <div class="row-images">
              <div class="field">
                <label>Product Image Preview</label>
                <img class="productPrev img-prev" alt="Product preview" />
              </div>
              <div class="field">
                <label>Preview Image Preview</label>
                <img class="previewPrev img-prev" alt="Preview image" />
              </div>
            </div>
          `;
        hookRow(wrap);
        return wrap;
      }

      function hookRow(wrap) {
        const idxEl = $('.idx', wrap);
        $('.remove', wrap)?.addEventListener('click', () => { wrap.remove(); renumber(); });
        $('.move-up', wrap)?.addEventListener('click', () => { const prev = wrap.previousElementSibling; if (prev) { wrap.parentNode.insertBefore(wrap, prev); renumber(); } });
        $('.move-down', wrap)?.addEventListener('click', () => { const next = wrap.nextElementSibling; if (next) { wrap.parentNode.insertBefore(next, wrap); renumber(); } });
        $('.productFile', wrap)?.addEventListener('change', (e) => {
          const f = e.target.files && e.target.files[0];
          if (f) {
            $('.productPrev', wrap).src = URL.createObjectURL(f);
            const p = $('.productPath', wrap);
            if (p && !p.value) p.value = `assets/${f.name}`;
          }
        });
        $('.previewFile', wrap)?.addEventListener('change', (e) => {
          const f = e.target.files && e.target.files[0];
          if (f) {
            $('.previewPrev', wrap).src = URL.createObjectURL(f);
            const p = $('.previewPath', wrap);
            if (p && !p.value) p.value = `assets/Preview Images/${f.name}`;
          }
        });
      }

      function renumber() { $$('.row .idx', rows).forEach((el, i) => el.textContent = String(i + 1)); }

      function addRow() { rows.appendChild(makeRow($$('.row', rows).length)); renumber(); }
      function clearRows() { rows.innerHTML = ''; }

      addRowBtn.addEventListener('click', addRow);
      clearRowsBtn.addEventListener('click', clearRows);

      function collect() {
        const out = [];
        $$('.row', rows).forEach((wrap) => {
          const category = $('.category', wrap).value;
          const model = $('.model', wrap).value.trim();
          if (!model) return;
          const id = `${category}-${slug(model)}-${Date.now().toString().slice(-4)}`;
          const priceRaw = $('.price', wrap).value.trim();
          const price = priceRaw ? Number(priceRaw) : null;
          const tagsRaw = $('.tags', wrap).value.trim();
          const tags = tagsRaw ? tagsRaw.split(',').map(s => s.trim()).filter(Boolean) : [];
          const obj = {
            id,
            category,
            model,
            condition: $('.condition', wrap).value.trim() || undefined,
            truetone: toBoolStr($('.truetone', wrap).value) || undefined,
            faceId: toBoolStr($('.faceId', wrap).value) || undefined,
            batteryHealth: $('.batteryHealth', wrap).value.trim() || undefined,
            storage: $('.storage', wrap).value.trim() || undefined,
            price: price === null ? null : price,
            currency: $('.currency', wrap).value.trim() || undefined,
            tags: tags.length ? tags : undefined,
            badge: $('.badge', wrap).value.trim() || undefined,
            image: $('.productPath', wrap).value.trim() || undefined,
            images: $('.previewPath', wrap).value.trim() ? [$('.previewPath', wrap).value.trim()] : undefined,
            warranty: $('.warranty', wrap).value.trim() || undefined,
            branch: $('.branch', wrap).value.trim() || undefined
          };
          Object.keys(obj).forEach(k => { if (obj[k] === undefined) delete obj[k]; });
          out.push(obj);
        });
        return out;
      }

      $('#generate').addEventListener('click', () => {
        const items = collect();
        $('#output').value = JSON.stringify(items, null, 2);
      });
      $('#copy').addEventListener('click', async () => {
        try { await navigator.clipboard.writeText($('#output').value || ''); } catch (_) { }
      });
    });
  </script>
  <!--Start of Tawk.to Script-->
  <script type="text/javascript">
    var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
    (function () {
      var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
      s1.async = true;
      s1.src = 'https://embed.tawk.to/690f29fb1bf5c2195a878379/1j9hjo02p';
      s1.charset = 'UTF-8';
      s1.setAttribute('crossorigin', '*');
      s0.parentNode.insertBefore(s1, s0);
    })();
  </script>
  <!--End of Tawk.to Script-->
</body>

</html>
